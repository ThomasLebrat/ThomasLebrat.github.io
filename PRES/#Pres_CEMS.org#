
# Contient tous les paramètres généraux !
:REVEAL_PROPERTIES:

#+BEGIN_SRC elisp
(require 'ox-reveal)
#+END_SRC

#+RESULTS:
: ox-reveal

#+REVEAL_ROOT: https://cdn.jsdelivr.net/npm/reveal.js

#+options: reveal_center:nil reveal_control:nil
#+options: reveal_global_footer:nil reveal_global_header:nil
#+options: reveal_height:nil reveal_history:nil reveal_keyboard:nil
#+options: reveal_overview:nil reveal_progress:nil
#+options: reveal_rolling_links:nil reveal_single_file:nil
#+options: reveal_slide_number:nil reveal_width:nil


#+reveal_margin: 200
#+reveal_min_scale:
#+reveal_max_scale:


#+reveal_trans: linear
#+reveal_speed:


#+reveal_theme: serif
#+reveal_extra_css:
#+reveal_extra_js:
#+reveal_extra_initial_js:
#+reveal_hlevel:1

# avec les balise <h?> je joue sur la taille
# en indiquant que t je n'affiche pas les auteurs
##+reveal_title_slide: <h2>%t</h2> <h3>%s</h3> <h4>%a</h4>
#+reveal_title_slide: 

#+reveal_title_slide_background:
#+reveal_title_slide_background_size:
#+reveal_title_slide_background_position:
#+reveal_title_slide_background_repeat:
#+reveal_title_slide_background_transition:
#+reveal_title_slide_background_opacity:
#+reveal_title_slide_state:


# config page de garde logo
#+reveal_title_slide_background: file:///./logo/logocnrm.png, file:///./logo/logoMF.svg, file:///./logo/logocnrs.png,
# file:///home/lalande/Downloads/cropped-3840-2160-1014882.jpg
#+reveal_title_slide_background_size: 10%, 10%, 10%, 100%
#+reveal_title_slide_background_position: 15% 90%, 50% 90%, 85% 90%
#+reveal_title_slide: <h2>%t</h2> <h4>%s</h4> <h6>%a</h6>




#+reveal_toc_slide_background:
#+reveal_toc_slide_background_size:
#+reveal_toc_slide_background_position:
#+reveal_toc_slide_background_repeat:
#+reveal_toc_slide_background_transition:
#+reveal_toc_slide_background_opacity:


#+reveal_default_slide_background:
#+reveal_default_slide_background_size:
#+reveal_default_slide_background_position:
#+reveal_default_slide_background_repeat:
#+reveal_default_slide_background_opacity:
#+reveal_default_slide_background_transition:


#+reveal_mathjax_url: https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML


#+reveal_preamble:
#+reveal_head_preamble:
#+reveal_postamble:
#+reveal_prologue:
#+reveal_epilogue:

#+reveal_slide_header:
#+reveal_slide_footer:


#+reveal_multiplex_id:
#+reveal_multiplex_secret:
#+reveal_multiplex_url:
#+reveal_multiplex_socketio_url:


#+reveal_plugins:
#+reveal_external_plugins:

#+reveal_default_frag_style:

#+reveal_extra_script:
#+reveal_extra_script_src:
#+reveal_extra_script_before_src:
#+reveal_init_options:
#+reveal_highlight_css: %r/lib/css/zenburn.css

#+reveal_reveal_js_version: 4
:end:

#+TITLE: Les coefficients RTTOV
#+SUBTITLE: vers une refonte de la chaîne de génération
#+AUTHOR: Thomas LEBRAT
#+DATE: <2023-04-10 lun.>

#+MAIL: thomas.lebrat@meteo.fr

#+OPTIONS: d:nil toc:1 num:nil

* Who

*** 

Research Engineer [SAFNWP]

#+ATTR_HTML: :width 11% :align center
[[./logo/photoTL.jpg]]

~RTTOV~

#+ATTR_REVEAL: :frag (highlight-current-blue) 
+ Coefficient Generation for Instruments
+ Rationalization of the Processing Chain
  + improve /efficiency/
  + increase /versatility/
+ Tool Development : v12 $\rightarrow$ v13 $\rightarrow$ v14

*** 

Team Work 

v14 upcoming deadlines => task force !

#+ATTR_REVEAL: :frag (highlight-current-red) 
+ Implementing new vertical scheme
+ Computing the new Transmittance DB
+ Code Freeze (may 2023) !


*** 
#+ATTR_REVEAL: :frag (highlight-current-blue) 
#+ATTR_HTML: :width 85% :align center
[[./img/Projet_RTTOV.png]]

 #+ATTR_REVEAL: :frag (highlight-current-green) 

#+ATTR_REVEAL: :frag (highlight-current-blue) 
long term collaboration : ~ 30 years



* What

R.T.T.O.V ?


/Let's first try to guess the acronym !/

# pour faire apparaitre progressivement 
# #+ATTR_REVEAL: :frag (appear)
** RT TOV
 #+ATTR_REVEAL: :frag (highlight-current-blue) 
 - Radiative Transfer
 - for TOVS

** TOVS
 #+ATTR_REVEAL: :frag (highlight-current-blue) 
 - TIROS
 - Operational Vertical Sounder

** TIROS
 #+ATTR_REVEAL: :frag (highlight-current-blue) 
 - Television
 - IR
 - Observational Satellite

#+ATTR_REVEAL: :frag (highlight-current-blue) 
#+ATTR_HTML: :width 85% :align center
[[./img/old_tiros.jpg]]


* Coefficients

In principle, as simple as $y = a x$ ! 

As we have /multi/ parameters, it is /multi-linear/ :-) 


*** 

- ~rt_coefficients~ allow /accurate/ and /efficient/ computations (eg : TOA Radiance)

- 1 instrument : a /unique/ set of coefficients

- Our main duty is to provide well validated sets

- It requires some efforts to guarantee this !

*** [ with the help of  P.Roquet]

| Satellite    | Instrument | Type                        | Origine |
|--------------+------------+-----------------------------+---------|
| NOAA-21      | *VIIRS*    | /Multispectral/LEO/         | SAFNWP  |
| LandSat-7    | *ETM*      | /Multispectral/LEO/         | SAFNWP  |
| FY4-B        | *AGRI*     | /Multispectral/GEO/         | SAFNWP  |
|              | *GIIRS*    | /Hyperspectral/GEO/         | SAFNWP  |
| Oceansat     | *SSTM*     | /Multispectral/             | SAFNWP  |
| FY3E         | *HIRAS 2*  |                             | SAFNWP  |
| CO2M         | *CLIM*     |                             | SAFNWP  |



*** [ J.Vidot ]

| Satellite    | Instrument | Type                        | Origine |
|--------------+------------+-----------------------------+---------|
| Dummyhi      |            | /None Disclosure Agreement/ | JMA     |
| MTG          | *FCI*      | /Multispectral/GEO/         |         |
|              | *Forum*    | /Hyperspectral-Far IR/      | TOSCA   |
| Dummyhi      | *Dummy10*  | /Hyperspectral-Box-car/     |         |
| Dummyhi      | *Dummy11*  | /Hyperspectral//            | Scalian |

*** [ with V.Jules, JV and JML ]

| Satellite    | Instrument | Type                        | Origine |
|--------------+------------+-----------------------------+---------|
| Meteor       | *SI*       | /Hyperspectral/LEO/         | C3S2    |
| Nimbus-4     | *PMR*      | /Gas Pressure Modulation/   | C3S2    |
|              | *IRIS*     | /Hyperspectral-Far IR/      | C3S2    |
| DMSP 1-4     | *SSH*      |                             | C3S2    |
| Nimbus-4 & 5 | *SCR*      | Multispectral               | C3S2    |

* Radiometers

*** WISE ( Wide-field Infrared Survey Explorer )

 #+BEGIN_EXPORT html
 <iframe id="igraph" scrolling="no" style="border:none;"seamless="seamless" src="https://chart-studio.plotly.com/~CodyShaw/26" height="425" width="100%"></iframe>
 #+END_EXPORT

*** VIIRS

[[./img/viirs_ir.png]]

*** SCR
 #+ATTR_HTML: :width 85% :align center
 [[./img/THALL_SR.png]]

*** Visu SCR
 #+BEGIN_EXPORT html
 <iframe width="400" height="500" frameborder="0" scrolling="no" src="https://plotly.com/~tomlebrat/1.embed"></iframe>
 #+END_EXPORT






* Gaining speed

Here are the /Key Ideas/

** convolution 

** demo convolution 

 #+ATTR_HTML: :width 80% :align center
 [[https://i.stack.imgur.com/myJem.gif]]

** parametrized transmittance





- from : /Hocking et al, 2023/
- original idea : McMillin, L. M. and Fleming, H. E., 1976
- Journal Club ?

*** 

#+BEGIN_QUOTE
The aim of the parameterisation is to obtain layer optical depths for a given satellite sensor channel for specific gases. The individual gas layer optical depths are summed to give the total channel layer optical depth due to gas absorption, which is subsequently used in solving the radiative transfer equation to obtain top-of-atmosphere radiances.
#+END_QUOTE

*** 

#+BEGIN_QUOTE
The gas layer optical depths are related to atmospheric predictors via a linear regression. The predictors are quantities derived from the input atmospheric profile variables: pressure, temperature, gas concentrations, and local zenith angle of the radiation path. 
#+END_QUOTE

*** 

Associer l'épaisseur optique à un jeu de predicteurs X(P,T,c, \theta) 

*** 
#+BEGIN_QUOTE
The regression coefficients are obtained using layer optical depths obtained from channel integrated transmittance profiles for a diverse set of training profiles using an accurate line-by-line (LBL) radiative transfer model. The training profiles are interpolated onto a fixed set of pressure levels giving a pre-defined set of layers for the optical depth regression.
#+END_QUOTE

***

/Fiter/ l'épaisseur optique (du modèle de régression RTTOV) contre celle obtenue via une BD réaliste (jeu de profils représentatif).

***  Mixed gas and water vapour predictors
[[./img/predicteurs.png]]

* Cartography
:PROPERTIES:
:reveal_background: ./img/carto_photo.png
:reveal_background_trans: slide
:reveal_opacity: 0.5
:END:

** 

#+REVEAL_HTML: <div class=middle style="width: 100%">
[[./img/carto_coeff_quatro.png]]
#+REVEAL_HTML: </div>

** Generating the Transmittance DB

[[file:///home/maint/ThomasLebrat.github.io/PRES/img/][/img]]

#+reveal: split
*** 
   :PROPERTIES:
   :reveal_background: black
   :END:





