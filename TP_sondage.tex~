% Created 2023-01-31 mar. 19:01
% Intended LaTeX compiler: pdflatex
\documentclass[letterpaper, 11pt]{article}
                      \usepackage{lmodern} % Ensures we have the right font
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{amsmath, amsthm, amssymb}
\usepackage[table, xcdraw]{xcolor}
\definecolor{bblue}{HTML}{0645AD}
\usepackage[colorlinks]{hyperref}
\hypersetup{colorlinks, linkcolor=blue, urlcolor=bblue}
\usepackage{titling}
\setlength{\droptitle}{-6em}
\setlength{\parindent}{0pt}
\setlength{\parskip}{1em}
\usepackage[stretch=10]{microtype}
\usepackage{hyphenat}
\usepackage{ragged2e}
\usepackage{subfig} % Subfigures (not needed in Org I think)
\usepackage{hyperref} % Links
\usepackage{listings} % Code highlighting
\usepackage[top=1in, bottom=1.25in, left=1.55in, right=1.55in]{geometry}
\renewcommand{\baselinestretch}{1.15}
\usepackage[explicit]{titlesec}
\pretitle{\begin{center}\fontsize{20pt}{20pt}\selectfont}
\posttitle{\par\end{center}}
\preauthor{\begin{center}\vspace{-6bp}\fontsize{14pt}{14pt}\selectfont}
\postauthor{\par\end{center}\vspace{-25bp}}
\predate{\begin{center}\fontsize{12pt}{12pt}\selectfont}
\postdate{\par\end{center}\vspace{0em}}
\titlespacing\section{0pt}{5pt}{5pt} % left margin, space before section header, space after section header
\titlespacing\subsection{0pt}{5pt}{-2pt} % left margin, space before subsection header, space after subsection header
\titlespacing\subsubsection{0pt}{5pt}{-2pt} % left margin, space before subsection header, space after subsection header
\usepackage{enumitem}
\setlist{itemsep=-2pt} % or \setlist{noitemsep} to leave space around whole list
\author{Thomas Lebrat}
\date{\textit{<2023-01-30 lun.>}}
\title{Sondage Atmopshérique}
\begin{document}

\tableofcontents




\section{Introduction}
\label{sec:org865e1e7}

\subsection{Contexte et objectifs de l'activité}
\label{sec:org913321c}

 Un ballon-sonde mesure les caractéristiques de l'atmosphère terrestre à l'aide d'instruments embarqués jusque des altitudes variables en fonction des modèles et circonstances. On retient souvent la valeur approchée de \(50~km\). Les données obtenues en fonction de l'altitude sont renvoyées au sol par signal radio. 
Pour cette activité, nous nous sommes accordés sur les objectifs suivants (\(\ddag\) = optionnel)

\begin{enumerate}
\item Analyser des mesures de température permettant d'indentifier les couches atmosphériques
\item Déterminer le profil de pression sur les 100 premiers kilomètres de l'atmosphère terrestre
\item Modéliser l'ascension d'un ballon sonde (modèle hermétique) (\ddag{})
\item Estimer l'altitude maximale que celui-ci peut atteindre jusqu'à éclatement (\(\ddag\))
\end{enumerate}

\subsection{Evaluation et compétences travaillées}
\label{sec:orga86126d}

Une participation active et constructive sera toujours bienvenue et valorisée. Les parties (\(\ddag\)) correspondant aux questions Q13, Q14, Q15 et Q16 pourront être avantageusement terminées à la maison pour constituer une évaluation sur \texttt{10 points}. Vous êtes autorisés et même encouragés à nous solliciter par mail pour nous soumettre vos questions techniques. Les compétences travaillées dans cette activité nous seront utiles pour la suite du module ; les voici lisées : 

\begin{itemize}
\item Implémentation de méthodes numériques : \textbf{interpolation} et \textbf{intégration}.
\item Se familiariser avec le principe (et quelques subtilités) de la \textbf{régression}
\item Explorer quelques possibités du lanagage \texttt{Python/Matplotlib} \footnote{proche de ~MATLAB~\texttrademark}
\item Accéssoirement, utiliser des librairies spécialisées telles que : \ldots{}
\end{itemize}

\subsection{Remerciements et documentation:}
\label{sec:org0edb75a}

\subsubsection*{biblio}
\label{sec:org6d9b7bf}
Cette activité est très largement inspirée de la lecture des documents suivants que nous vous invitons vivement à consulter : 

\subsubsection*{document : les couches de l'atmosphère (extrai Wiki)}
\label{sec:orga2ad1ef}

\subsubsection*{nommenclature}
\label{sec:orge19e9b0}
\newpage
\section{Dimensions de la Terre et idées reçues}
\label{sec:org5e724f3}
\subsection{Les grecs et le rayon de la Terre (méthode d'Eratosthène)}
\label{sec:org95fb51b}

\subsubsection*{Un peu de géométrie}
\label{sec:orgbe8abba}
\subsubsection*{{\bfseries\sffamily TODO} Le projet \emph{LAMAP}}
\label{sec:orgf81f9c1}
\subsection{La "hauteur" de l'atmosphère chez les anciens (méthode du twilight)}
\label{sec:org77f4438}

\subsubsection*{{\bfseries\sffamily TODO} Publication orginale}
\label{sec:org19db351}

\subsubsection*{Interprétation}
\label{sec:orgc50ae9f}

\subsection{Aujourd'hui}
\label{sec:org14faeae}

\begin{itemize}
\item Non, la Terre n'est pas ronde !
\label{sec:org3f4dc4d}
C'est un ellipsoïde de révolution avec des bosses

\item Non la hauteur de l'atmosphère n'a pas de valeur fixée.
\label{sec:org5f54d13}

\begin{itemize}
\item Cette notion de hauteur n'a pas de signification rigoureuse.
\item Dépendance avec latitude, saisons.
\item Phénoménologie des deux forces en présence.
\end{itemize}
\end{enumerate}



\section{Analyse des données}
\label{sec:orgfdc6492}

\subsection{Tableau commenté}
\label{sec:orge5bb633}

Voici le profil vertical avec une petite une visualisation \texttt{ASCII} artisanale\footnote{Depuis Emacs(org-mode), on applique la formule :  \#+TBLFM: ~\$4='(orgtbl-ascii-draw \$3 175 290)~}. 

\begin{table}[htbp]
\label{name}
\centering
\begin{tabular}{rrrl}
z(km) & T(°C) & T(K) & ASCII Profile\\
\hline
100 & -72 & 201 & WWh\\
95 & -81 & 192 & WV\\
92 & -86 & \textbf{187} & W;\\
84 & -86 & \textbf{187} & W;\\
80 & -86 & \textbf{187} & W;\\
75 & -79 & 194 & WW\\
70 & -65 & 208 & WWWc\\
65 & -54 & 219 & WWWWl\\
60 & -33 & 240 & WWWWWWV\\
55 & -17 & 256 & WWWWWWWW!\\
52 & -7 & 266 & WWWWWWWWW!\\
48 & -2 & \textbf{271} & WWWWWWWWWW\\
45 & -2 & \textbf{271} & WWWWWWWWWW\\
40 & -8 & 265 & WWWWWWWWWc\\
35 & -22 & 251 & WWWWWWWH\\
30 & -37 & 236 & WWWWWWc\\
25 & -46 & 227 & WWWWWc\\
20 & -56 & \textbf{217} & WWWWc\\
12 & -56 & \textbf{217} & WWWWc\\
10 & -49 & 224 & WWWWW.\\
5 & -18 & 255 & WWWWWWWW;\\
0 & 15 & \textbf{288} & WWWWWWWWWWWV\\
\end{tabular}
\end{table}

On repère les tendances discutées au premmier cours, les creux et les bosses correspondant aux \emph{minima} et \emph{maxima} locaux. Des valeurs identiques pourraient indiquer des bandes stationnaires mais l'échantillonage est insuffisant pour trancher.

Le tableau de données est saisi à la main puis commenté en groupe : 

\begin{itemize}
\item << il fait froid >> : en effet la température \(T\) est  toujours (vraiment ?) négative au delà de 5 km
\item à l'évidence, \(T\) n'est connue qu'en certaines altitudes, espacées de manière \emph{irrégulière}
\item depuis le sol, des tendances sont identifiables : \(\searrow\) , \(\nearrow\) , \(\searrow\) , \(\nearrow\)
\item des mesures font apparaître des valeurs identiques (stagnation ?)
\item les étudiants se demandent alors si cela ne posera pas de problème numérique (à creuser)
\end{itemize}

Attention, la conversion en Kelvin peut-être source d'erreurs ! Pour nos calculs, on prendra garde à bien vérifier que le zero absolu correspond à une température de \(-273~C\) c-à-d que : 

$$T(K) = T(C) + 273 $$


\subsection{{\bfseries\sffamily TODO} Utilisation de pandas (Jean ?)}
\label{sec:orgee3830c}

\subsection{{\bfseries\sffamily TODO} Traduction vers MATLAB/Scilab/Octave (Morgane et al ?)}
\label{sec:org3f30128}

\newpage


\section{{\bfseries\sffamily TODO} Rappels de physique}
\label{sec:org0f2f164}

C'est l'occasion d'un petit rappel sur la signification des grandeurs thermodynamiques température, pression, volume et de leur signification (agitation microscopique, énergie cinétique, \ldots{}). 

On rappelle ici quelques relations utiles à savoir manipuler pour la résolution de problèmes classiques d'équilibre de l'atmosphère : 


$$ grad P $$ 


\newpage

\section{Méthodes numériques}
\label{sec:org32861d3}

\subsection{Méthode 1 - Estimation d'une valeur entre deux points de mesure}
\label{sec:org3bd367f}

\subsubsection{principe de l'interpolation linéaire}
\label{sec:orgf4f5ec4}


\textbf{Exercice} : on détermine à la main la valeur d'un point millieu interpolé, par exemple entre 30 et 40 km d'altitude et on confronte cette valeur à une donnée rélle. Cela nous permet de réfléchir à la signification d'une interpolation, au sens de variation, etc.

\textbf{\textbf{Définition}} : une interpolation linéaire consiste à approximer localement une grandeur physique (ici une température) en un abscisse donnée (ici une altitude) située entre deux points expérimentaux par une loi affine passant par ces points

\subsubsection{possibilité d'une interpolation non-linéaire}
\label{sec:org2597397}

\subsubsection{premiers résultats des éléves}
\label{sec:org0cf742f}

\begin{itemize}
\item erreurs utiles
\label{sec:orgeeecaaa}
Un bug et sa résolution

\item petits plus
\label{sec:org132afd7}
\end{enumerate}


\subsection{Méthode 2 - Intégration numérique}
\label{sec:org485c319}

\subsection{Méthode 3 - Regression}
\label{sec:org31f7eae}


\newpage

\section{Correction des questions}
\label{sec:org2c1badc}

\subsection{Détermination du profil vertical de température - Q1 à Q4}
\label{sec:orgbd42d45}

\subsubsection*{Q1 - mini algo pour la droite d'interpolation}
\label{sec:org716eb00}
Considérons un petit intervalle \(Z_{i}\) = \(\left[ z_{i} ; z_{i+1} \right]\) et plaçons en ordonnée deux points successifs \(M_{i} \left( z_i,T_i \right)\) et \(M_{i+1} \left ( z_{i+1}, T_{i+1} \right)\). Nous avons répondu à l'oral aux questions suivantes :

\begin{itemize}
\item Que vaut la température correspondant à un point milieu de cet intervalle ?
\item De combien de paramètres dépend la fonction d'interpolation affine \(T(z)\) sur \(Z_{i}\) ?
\item Exprimer les en fonction des données mesurées aux points \(M_{i}(z_i,T_i)\) et \(M_{i+1}(z_{i+1}, T_{i+1})\). \footnote{Dans ce cas simple, on peut bien sûr trouver la solution par tatônnements. On pourra sinon poser proprement un système d'équations, avec autant d'équations que d'inconnues, méthode qui s'avérera toujours payante pour les techniques d'interpolation plus sophistiquées ...}
\end{itemize}

\subsubsection*{Q2 - écriture d'une fonction en Python/MATLAB}
\label{sec:org52eec80}
Ecrire une fonction \texttt{T(z,unite)} fournissant la température de l'air pour une altitude \(z\)  parcourant l'intervalle \([0 ; 100]\) \(km\). \footnote{On prendra garde à intégrer les bonnes conversions d'unité pour les distances (facteur 1000) et les températures (différence de 273).}
Créer deux tableaux \texttt{zatm} et \texttt{Tatm} contenant \texttt{N=1000} valeurs d'altitudes et de température.

\begin{center}
\begin{tabular}{lrll}
zatm(m) & 0 & \ldots{} & 10\textsuperscript{5}\\
\hline
Tatm(°C) & T\textsubscript{0} & \ldots{} & T\textsubscript{100}\\
\end{tabular}
\end{center}


\subsubsection*{Q3}
\label{sec:orgb7c7ef5}
Tracer le \emph{\emph{profil vertical de température}} (graphe basculé avec altitude en ordonnée et température en abscisse). Identifier les différentes couches de l'atmopshère.



\subsection{Etude du profil vertical de pression - Q5 à Q12}
\label{sec:orgcdda266}


\subsection{{\bfseries\sffamily TODO} DM - Modélisation de l'ascencion du ballon - Q13 à Q16 (\ddag{})}
\label{sec:org4501cf1}
\end{document}
