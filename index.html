<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-02-06 lun. 18:29 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CODE TP 1</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="maint" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">CODE TP 1</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org87799d7">1. Recommendations</a>
<ul>
<li><a href="#org9c8ee19">1.1. librairies</a></li>
<li><a href="#org524b6a0">1.2. Ecriture</a></li>
<li><a href="#orgfaac37e">1.3. liste</a></li>
</ul>
</li>
<li><a href="#org6af1282">2. préparatifs</a></li>
<li><a href="#orga158d2e">3. Q1 - Formule de l'interpolation -&#xa0;&#xa0;&#xa0;<span class="tag"><span class="Tableau">Tableau</span></span></a></li>
<li><a href="#org06d710a">4. Q2 - Ecriture de la fonction T(z,unite)&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span></span></a></li>
<li><a href="#orge246ac7">5. Q3&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span></span></a></li>
<li><a href="#orgefe2347">6. Q4&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span></span></a></li>
<li><a href="#org6ff9b71">7. Q5&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TABLEAU">TABLEAU</span></span></a></li>
<li><a href="#orgc029940">8. Q6&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TABLEAU">TABLEAU</span></span></a></li>
<li><a href="#org6e538e2">9. Q7</a></li>
<li><a href="#orgd4a5120">10. Q8&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span></span></a></li>
<li><a href="#org245983c">11. Q9&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TABLEAU">TABLEAU</span></span></a></li>
<li><a href="#orgedb9920">12. Q10&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span></span></a></li>
<li><a href="#orge2db145">13. Q11&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TABLEAU">TABLEAU</span></span></a></li>
<li><a href="#org74ed908">14. Q12&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span>&#xa0;<span class="TABLEAU">TABLEAU</span></span></a></li>
</ul>
</div>
</div>


<div id="outline-container-org87799d7" class="outline-2">
<h2 id="org87799d7"><span class="section-number-2">1</span> Recommendations</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org9c8ee19" class="outline-3">
<h3 id="org9c8ee19"><span class="section-number-3">1.1</span> librairies</h3>
<div class="outline-text-3" id="text-1-1">
<p>
On installe une librairie avec la commande suivante :
</p>

<div class="org-src-container">
<pre class="src src-sh">pip install matplotlib.pyplot
</pre>
</div>


<p>
Dans un script Python on réalise des imports ciblés de librairies avec les instructions suivantes : 
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF;">import</span> numpy <span style="color: #0000FF;">as</span> np
<span style="color: #0000FF;">import</span> matplotlib.pyplot <span style="color: #0000FF;">as</span> plt
<span style="color: #0000FF;">from</span> scipy.integrate <span style="color: #0000FF;">import</span> odeint
</pre>
</div>
</div>
</div>


<div id="outline-container-org524b6a0" class="outline-3">
<h3 id="org524b6a0"><span class="section-number-3">1.2</span> Ecriture</h3>
<div class="outline-text-3" id="text-1-2">
<p>
On se donne quelques conventions pour écrire un code lisible par tous 
</p>
<ul class="org-ul">
<li>mettre des commentaires <code># step i : description ...</code> à chaque moment important</li>
<li>utiliser des noms de variables explicites <code>Texp</code> fait référence à la température expérimentale</li>
<li>se limiter dans un premier temps à l'utilisation de 2 librairies d'usage courant :
<ul class="org-ul">
<li><code>numpy</code> pour le calcul vectoriel</li>
<li><code>matplotlib</code> pour le tracé de graphes</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgfaac37e" class="outline-3">
<h3 id="orgfaac37e"><span class="section-number-3">1.3</span> liste</h3>
<div class="outline-text-3" id="text-1-3">
<p>
On se remémore quelques instructions de base
</p>

<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">Personnages</span> = [<span style="color: #008000;">'RIRI'</span>, <span style="color: #008000;">'FIFI'</span>, <span style="color: #008000;">'LOUOU'</span>]
<span style="color: #BA36A5;">taille</span> = <span style="color: #006FE0;">len</span>(Amis)
<span style="color: #006FE0;">print</span>(taille)
Personnages.append(<span style="color: #008000;">'GEO'</span>)
<span style="color: #006FE0;">print</span>(Personnages)
</pre>
</div>

<p>
8
['RIRI', 'FIFI', 'LOUOU', 'GEO']
</p>
</div>
</div>
</div>



<div id="outline-container-org6af1282" class="outline-2">
<h2 id="org6af1282"><span class="section-number-2">2</span> préparatifs</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>On importe les librairies standards et on fixe les valeurs des constantes physiques.</li>
<li>On saisit les tableaux de valeurs expérimentales, d'altitude et de température.</li>
<li>On teste l'execution dans une première cellule (Jupyter Notebook par ex)</li>
</ul>


<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #0000FF;">import</span> numpy <span style="color: #0000FF;">as</span> np
<span style="color: #0000FF;">import</span> matplotlib
<span style="color: #0000FF;">import</span> matplotlib.pyplot <span style="color: #0000FF;">as</span> plt

<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">Constants</span>
<span style="color: #BA36A5;">M</span> = 29.0e-3
<span style="color: #BA36A5;">R</span> = 8.31
<span style="color: #BA36A5;">P0</span> = 1.0e5
<span style="color: #BA36A5;">g0</span> = 9.8
<span style="color: #BA36A5;">RT</span> = 6.4e3
<span style="color: #BA36A5;">pi</span> = np.pi

<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">Altitude en km</span>
<span style="color: #BA36A5;">zexp</span> = np.array([0.0, 5.0, 10.0, 12.0, 20.0, 25.0, 30.0,35.0, 40.0,
                 45.0, 48.0, 52.0, 55.0, 60.0, 65.0, 70.0, 75.0, 80.0, 84.0, 92.0, 95.0,100.0])

<span style="color: #BA36A5;">Texp</span> = np.array([15.0, -18.0, -49.0, -56.0, -56.0, -51.0, -46.0, -37.0,
                 -22.0, -8.0, -2.0, -2.0, -7.0, -17.0, -33.0, -54.0, -65.0, -79.0, -86.0,-86.0, -81.0, -72.0])

<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">+BEGIN_SRC jupyter-python</span>
<span style="color: #BA36A5;">fig</span>, <span style="color: #BA36A5;">ax</span> = plt.subplots()
ax.plot( Texp,zexp)
plt.savefig(<span style="color: #008000;">"graph_Q0.png"</span>)
</pre>
</div>


<div class="figure">
<p><img src="./.ob-jupyter/a60bc0e706dedf58e67f07c07108a1cd231a7778.png" alt="a60bc0e706dedf58e67f07c07108a1cd231a7778.png" />
</p>
</div>

<ul class="org-ul">
<li>Pour les utilisateurs avancés, possible également d'utiliser <code>pandas</code> pour importer le fichier de données <code>.csv</code> (à tester dans une séance ultérieure)</li>
</ul>


<p>
Les sections qui suivent contiennent des premiers éléments de correction. 
Les lignes de code seront susceptibles d'être remaniées au fil de l'eau et/ou commentées en fonction de vos retours (difficultés/suggestions d'améliorations)
</p>
</div>
</div>


<div id="outline-container-orga158d2e" class="outline-2">
<h2 id="orga158d2e"><span class="section-number-2">3</span> Q1 - Formule de l'interpolation -&#xa0;&#xa0;&#xa0;<span class="tag"><span class="Tableau">Tableau</span></span></h2>
<div class="outline-text-2" id="text-3">
<p>
Ce point a été traité en séance au tableau (voir polycopié pour une synthèse).
</p>

<p>
\[ \]
</p>
</div>
</div>

<div id="outline-container-org06d710a" class="outline-2">
<h2 id="org06d710a"><span class="section-number-2">4</span> Q2 - Ecriture de la fonction T(z,unite)&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span></span></h2>
<div class="outline-text-2" id="text-4">
<p>
Il y a un petit raisonnement à mener pour 
</p>



<p>
Certains d'entre vous choissisent de faire la conversion dans un cellule à part pour plus de rigeur. C'est certainement une <i>meilleure pratique</i> à privilégier.
</p>

<p>
Il y a 3 termes dans cette formule d'interpolation 
</p>
<ul class="org-ul">
<li>le premier pour gérer le décallage éventuel du au choix de l'unité</li>
<li>la valeur de la température de référence</li>
<li>l'incrément de température calcul en utilisant la pete</li>
</ul>

<p>
C'est seulement lorsque l'altitude considérée est supérieure à l'altitude du point de mesure \(zkm>zexp\)
</p>

<p>
La fonctionalité de conversion d'unité peut être implémentée dans un deuxième temps.
</p>


<p>
\[ temperature = alpha*273 + Texp[i] + \frac{zkm - zexp[i]}{ (zexp[i + 1] - zexp[i])*(Texp[i + 1] - Texp[i]) }\]
</p>


<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">T</span>(z, unite):
    <span style="color: #BA36A5;">zkm</span> = z / 1000 <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Conversion en km pour comparaison dans la liste</span>
    <span style="color: #BA36A5;">alpha</span> = 1
    <span style="color: #0000FF;">if</span> unite == <span style="color: #008000;">'C'</span>:
        alpha = 0 <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Pas de d&#233;calage pour la temp&#233;rature en &#176;C</span>
    i = 0
    <span style="color: #0000FF;">while</span> zkm &gt; zexp[i + 1]: <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Recherche de l&#8217;indice i</span>
        i = i + 1
    temperature = alpha*273 + Texp[i] + (zkm - zexp[i])/(zexp[i + 1] - zexp[i])*(Texp[i + 1] - Texp[i]) <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Interpolation lin&#233;aire</span>
    <span style="color: #0000FF;">return</span> temperature
</pre>
</div>
</div>
</div>

<div id="outline-container-orge246ac7" class="outline-2">
<h2 id="orge246ac7"><span class="section-number-2">5</span> Q3&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span></span></h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">N</span> = 1000 <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Nombre de points</span>
<span style="color: #BA36A5;">zmax</span> = 100.0e3 <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Altitude max (en m)</span>
<span style="color: #BA36A5;">dz</span> = zmax/(N - 1) <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Pas spatial (en m)</span>
<span style="color: #BA36A5;">zatm</span> = np.array([k*dz <span style="color: #0000FF;">for</span> k <span style="color: #0000FF;">in</span> <span style="color: #006FE0;">range</span>(N)]) <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Altitudes</span>
<span style="color: #BA36A5;">Tatm</span> = np.array([T(zatm[k], <span style="color: #008000;">'C'</span>) <span style="color: #0000FF;">for</span> k <span style="color: #0000FF;">in</span> <span style="color: #006FE0;">range</span>(N)]) <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Temp&#233;ratures</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgefe2347" class="outline-2">
<h2 id="orgefe2347"><span class="section-number-2">6</span> Q4&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span></span></h2>
<div class="outline-text-2" id="text-6">
<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">fig</span>, <span style="color: #BA36A5;">ax</span> = plt.subplots()
ax.plot( Tatm,zatm)
ax.plot( Tatm,zatm)
plt.savefig(<span style="color: #008000;">"graph_Q4.png"</span>)
</pre>
</div>


<div class="figure">
<p><img src="./.ob-jupyter/bce4b3c06ad759508b4d43d220f481ab699a1e96.png" alt="bce4b3c06ad759508b4d43d220f481ab699a1e96.png" />
</p>
</div>
</div>
</div>


<div id="outline-container-org6ff9b71" class="outline-2">
<h2 id="org6ff9b71"><span class="section-number-2">7</span> Q5&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TABLEAU">TABLEAU</span></span></h2>
</div>

<div id="outline-container-orgc029940" class="outline-2">
<h2 id="orgc029940"><span class="section-number-2">8</span> Q6&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TABLEAU">TABLEAU</span></span></h2>
</div>

<div id="outline-container-org6e538e2" class="outline-2">
<h2 id="org6e538e2"><span class="section-number-2">9</span> Q7</h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">g</span>(z): <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Champ de pesanteur</span>
    <span style="color: #0000FF;">return</span> g0 * RT**2 / (RT + z)**2
</pre>
</div>

<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Calcul du champ de pression par la m&#233;thode d&#8217;Euler</span>
<span style="color: #BA36A5;">Patm</span> = [P0] <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Initialisation</span>
<span style="color: #0000FF;">for</span> k <span style="color: #0000FF;">in</span> <span style="color: #006FE0;">range</span>(N - 1): <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Il reste N - 1 termes &#224; calculer</span>
    Patm.append(Patm[k] - M*g(zatm[k])*Patm[k]*dz/(R*T(zatm[k], <span style="color: #008000;">'K'</span>)))
<span style="color: #BA36A5;">Patm</span> = np.array(Patm) <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Conversion en tableau</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">fig</span>, <span style="color: #BA36A5;">ax</span> = plt.subplots()
ax.plot( Patm,zatm)
plt.savefig(<span style="color: #008000;">"graph_Q7.png"</span>)
</pre>
</div>


<div class="figure">
<p><img src="./.ob-jupyter/452be962270a3497e78002b893546d6fd18cd61c.png" alt="452be962270a3497e78002b893546d6fd18cd61c.png" />
</p>
</div>
</div>
</div>


<div id="outline-container-orgd4a5120" class="outline-2">
<h2 id="orgd4a5120"><span class="section-number-2">10</span> Q8&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span></span></h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">masse_atm</span>(z): <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Calcul de la masse d&#8217;air jusqu&#8217;&#224; l&#8217;altitude z</span>
    <span style="color: #BA36A5;">masse</span> = 0
    <span style="color: #BA36A5;">k</span> = 0
    <span style="color: #0000FF;">while</span> zatm[k] &lt; <span style="color: #BA36A5;">z</span>: <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">On arr&#234;te le calcul &#224; l&#8217;altitude z</span>
        dm = 4*np.pi*(RT + z)**2*M*Patm[k]/(R*T(zatm[k], <span style="color: #008000;">'K'</span>))*dz
        <span style="color: #BA36A5;">masse</span> = masse + dm
        <span style="color: #BA36A5;">k</span> = k + 1
    <span style="color: #0000FF;">return</span> masse
</pre>
</div>

<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">mtot</span> = masse_atm(100e3) <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Masse d'air dans l'atmosph&#232;re terrestre</span>
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">'Masse de l\'atmosph&#232;re :'</span>, mtot, <span style="color: #008000;">'kg'</span>)
</pre>
</div>

<p>
Masse de l'atmosphère : 1.0772432715500982e+16 kg
</p>


<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">mtropo</span> = masse_atm(12e3) <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Masse d'air dans la troposph&#232;re</span>
<span style="color: #006FE0;">print</span>(<span style="color: #008000;">'Proportion d\'air dans la troposph&#232;re :'</span>, mtropo/mtot)
</pre>
</div>

<p>
Proportion d'air dans la troposphère : 0.004662119957938924
</p>
</div>
</div>


<div id="outline-container-org245983c" class="outline-2">
<h2 id="org245983c"><span class="section-number-2">11</span> Q9&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TABLEAU">TABLEAU</span></span></h2>
<div class="outline-text-2" id="text-11">
<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">Patm2</span> = [P0]
<span style="color: #0000FF;">for</span> k <span style="color: #0000FF;">in</span> <span style="color: #006FE0;">range</span>(N - 1):
    Patm2.append(Patm2[k] - M*g0*Patm2[k]*dz/(R*T(zatm[k], <span style="color: #008000;">'K'</span>)))
<span style="color: #BA36A5;">Patm2</span> = np.array(Patm2)
<span style="color: #BA36A5;">ecart1</span> = 100 * <span style="color: #006FE0;">abs</span>(Patm - Patm2) / Patm <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Ecart relatif</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">fig</span>, <span style="color: #BA36A5;">ax</span> = plt.subplots()
ax.plot( ecart1,zatm)
plt.savefig(<span style="color: #008000;">"graph_Q9.png"</span>)
</pre>
</div>


<div class="figure">
<p><img src="./.ob-jupyter/976970ca5f6bd41e43d20f0987b5263393e64f05.png" alt="976970ca5f6bd41e43d20f0987b5263393e64f05.png" />
</p>
</div>
</div>
</div>



<div id="outline-container-orgedb9920" class="outline-2">
<h2 id="orgedb9920"><span class="section-number-2">12</span> Q10&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span></span></h2>
<div class="outline-text-2" id="text-12">
<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">Piso</span> = [P0]
<span style="color: #0000FF;">for</span> k <span style="color: #0000FF;">in</span> <span style="color: #006FE0;">range</span>(N - 1):
    Piso.append(Piso[k] - M*g0*Piso[k]*dz/(R*T(0, <span style="color: #008000;">'K'</span>)))
<span style="color: #BA36A5;">Piso</span> = np.array(Piso)
<span style="color: #BA36A5;">ecart2</span> = 100 * <span style="color: #006FE0;">abs</span>(Piso - Patm) / Patm <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Ecart relatif</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">fig</span>, <span style="color: #BA36A5;">ax</span> = plt.subplots()
ax.plot( ecart2,zatm)
plt.savefig(<span style="color: #008000;">"graph_Q10.png"</span>)
</pre>
</div>


<div class="figure">
<p><img src="./.ob-jupyter/feb8952deba53f364be4f1ff78bba0a4ceaf611b.png" alt="feb8952deba53f364be4f1ff78bba0a4ceaf611b.png" />
</p>
</div>
</div>
</div>


<div id="outline-container-orge2db145" class="outline-2">
<h2 id="orge2db145"><span class="section-number-2">13</span> Q11&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TABLEAU">TABLEAU</span></span></h2>
</div>

<div id="outline-container-org74ed908" class="outline-2">
<h2 id="org74ed908"><span class="section-number-2">14</span> Q12&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CODE">CODE</span>&#xa0;<span class="TABLEAU">TABLEAU</span></span></h2>
<div class="outline-text-2" id="text-14">
<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">ztropo</span>, <span style="color: #BA36A5;">Ttropo</span> = [], [] <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Initialisation des listes</span>
<span style="color: #BA36A5;">k</span> = 0
<span style="color: #0000FF;">while</span> zatm[k] &lt; 10<span style="color: #BA36A5;">e3</span>: <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">On s&#233;lectionne les donn&#233;es jusqu&#8217;&#224; 10km</span>
    ztropo.append(zatm[k])
    Ttropo.append(T(zatm[k], <span style="color: #008000;">'K'</span>))
    k = k + 1
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">R&#233;gression lin&#233;aire T(z)=a*z+b</span>
<span style="color: #BA36A5;">a</span>, <span style="color: #BA36A5;">b</span> = np.polyfit(ztropo, Ttropo, 1) <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Calcul de la r&#233;gression lin&#233;aire</span>
<span style="color: #BA36A5;">Tlin</span> = [a*z + b <span style="color: #0000FF;">for</span> z <span style="color: #0000FF;">in</span> ztropo] <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Mod&#232;le lin&#233;aire de la temp&#233;rature</span>

<span style="color: #006FE0;">print</span>(a,b)


<span style="color: #BA36A5;">Pgradient</span> = [P0]
<span style="color: #0000FF;">for</span> k <span style="color: #0000FF;">in</span> <span style="color: #006FE0;">range</span>(<span style="color: #006FE0;">len</span>(ztropo) - 1):
    Pgradient.append(Pgradient[k] - M*g0*Pgradient[k]*dz/(R*(a*zatm[k] + b)))
<span style="color: #BA36A5;">Pgradient</span> = np.array(Pgradient)
<span style="color: #BA36A5;">ecart3</span> = 100 * <span style="color: #006FE0;">abs</span>(Pgradient - Patm) / Patm

</pre>
</div>

<p>
-0.006402700270027003 287.5138802168507
</p>

<p>
ValueErrorTraceback (most recent call last)
&lt;ipython-input-32-fe345e124b4e&gt; in &lt;module&gt;
     16     Pgradient.append(Pgradient[k] - M*g0*Pgradient[k]*dz/(R*(a*zatm[k] + b)))
     17 Pgradient = np.array(Pgradient)
&#x2014;&gt; 18 ecart3 = 100 * abs(Pgradient - Patm) / Patm
</p>

<p>
ValueError: operands could not be broadcast together with shapes (100,) (1000,) 
</p>


<div class="org-src-container">
<pre class="src src-jupyter-python">
</pre>
</div>

<p>
ValueErrorTraceback (most recent call last)
&lt;ipython-input-29-8ae4b0545b27&gt; in &lt;module&gt;
      3     Pgradient.append(Pgradient[k] - M*g0*Pgradient[k]*dz/(R*(a*zatm[k] + b)))
      4 Pgradient = np.array(Pgradient)
-&#x2014;&gt; 5 ecart3 = 100 * abs(Pgradient - Patm) / Patm
</p>

<p>
ValueError: operands could not be broadcast together with shapes (100,) (1000,) 
</p>


<div class="org-src-container">
<pre class="src src-jupyter-python"><span style="color: #BA36A5;">fig</span>, <span style="color: #BA36A5;">ax</span> = plt.subplots()
ax.plot( ecart3,zatm)
plt.savefig(<span style="color: #008000;">"graph_Q12.png"</span>)
</pre>
</div>

<p>
NameErrorTraceback (most recent call last)
&lt;ipython-input-25-c79f05ea19df&gt; in &lt;module&gt;
      1 fig, ax = plt.subplots()
-&#x2014;&gt; 2 ax.plot( ecart3,zatm)
      3 plt.savefig("graph_Q12.png")
</p>

<p>
NameError: name 'ecart3' is not defined
<img src="./.ob-jupyter/61d2780d035746e2a1d41c3696837d1141c39f65.png" alt="61d2780d035746e2a1d41c3696837d1141c39f65.png" />
</p>

<div class="org-src-container">
<pre class="src src-jupyter-python">
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2023-02-01 mer. 00:00</p>
<p class="author">Author: maint</p>
<p class="date">Created: 2023-02-06 lun. 18:29</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
